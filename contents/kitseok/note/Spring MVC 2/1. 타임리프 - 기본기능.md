# 1.1. í”„ë¡œì íŠ¸ ìƒì„±

## í”„ë¡œì íŠ¸ ìƒì„±

### ì‚¬ì „ ì¤€ë¹„ë¬¼

- Java 11 ì„¤ì¹˜
- IDE: IntelliJ ë˜ëŠ” Eclipse ì„¤ì¹˜

### ìŠ¤í”„ë§ ë¶€íŠ¸ ìŠ¤íƒ€í„° ì‚¬ì´íŠ¸ë¡œ ì´ë™í•´ì„œ ìŠ¤í”„ë§ í”„ë¡œì íŠ¸ ìƒì„±

[https://start.spring.io](https://start.spring.io/)

- í”„ë¡œì íŠ¸ ì„ íƒ
    - Project: Gradle - Groovy Project
    - Language: Java
    - Spring Boot: 2.5.x
- Project Metadata
    - Group: hello
    - Artifact: thymeleaf-basic
    - Name: thymeleaf-basic
    - Package name: hello.thymeleaf
    - Packaging: Jar
    - Java: 11

- Dependencies: Spring Web, Lombok , Thymeleaf

### build.gradle

```java
plugins {
id 'org.springframework.boot' version '2.5.0'
id 'io.spring.dependency-management' version '1.0.11.RELEASE'
id 'java'
}
group = 'hello'
version = '0.0.1-SNAPSHOT'
sourceCompatibility = '11'
configurations {
compileOnly {
extendsFrom annotationProcessor
}
}
repositories {
mavenCentral()
}
dependencies {
implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'
implementation 'org.springframework.boot:spring-boot-starter-web'
compileOnly 'org.projectlombok:lombok'
annotationProcessor 'org.projectlombok:lombok'
testImplementation 'org.springframework.boot:spring-boot-starter-test'
}
test {
useJUnitPlatform()
}
```

- ë™ì‘ í™•ì¸
    - ê¸°ë³¸ ë©”ì¸ í´ë˜ìŠ¤ ì‹¤í–‰(`ThymeleafBasicApplication.main()`)
    - [http://localhost:8080](http://localhost:8080/) í˜¸ì¶œí•´ì„œ Whitelabel Error Pageê°€ ë‚˜ì˜¤ë©´ ì •ìƒ ë™ì‘

### í™ˆ í™”ë©´

`/resources/static/index.html`

```html
<html>
<head>
 <meta charset="UTF-8">
 <title>Title</title>
</head>
<body>
<ul>
 <li>í…ìŠ¤íŠ¸
 <ul>
 <li><a href="/basic/text-basic">í…ìŠ¤íŠ¸ ì¶œë ¥ ê¸°ë³¸</a></li>
 <li><a href="/basic/text-unescaped">í…ìŠ¤íŠ¸ text, utext</a></li>
 </ul>
 </li>
 <li>í‘œì¤€ í‘œí˜„ì‹ êµ¬ë¬¸
 <ul>
 <li><a href="/basic/variable">ë³€ìˆ˜ - SpringEL</a></li>
 <li><a href="/basic/basic-objects?paramData=HelloParam">ê¸°ë³¸ ê°ì²´ë“¤</
a></li>
 <li><a href="/basic/date">ìœ í‹¸ë¦¬í‹° ê°ì²´ì™€ ë‚ ì§œ</a></li>
 <li><a href="/basic/link">ë§í¬ URL</a></li>
 <li><a href="/basic/literal">ë¦¬í„°ëŸ´</a></li>
 <li><a href="/basic/operation">ì—°ì‚°</a></li>
 </ul>
 </li>
 <li>ì†ì„± ê°’ ì„¤ì •
 <ul>
 <li><a href="/basic/attribute">ì†ì„± ê°’ ì„¤ì •</a></li>
 </ul>
 </li>
 <li>ë°˜ë³µ
 <ul>
 <li><a href="/basic/each">ë°˜ë³µ</a></li>
 </ul>
 </li>
 <li>ì¡°ê±´ë¶€ í‰ê°€
 <ul>
 <li><a href="/basic/condition">ì¡°ê±´ë¶€ í‰ê°€</a></li>
 </ul>
 </li>
 <li>ì£¼ì„ ë° ë¸”ë¡
 <ul>
 <li><a href="/basic/comments">ì£¼ì„</a></li>
 <li><a href="/basic/block">ë¸”ë¡</a></li>
 </ul>
 </li>
 <li>ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸
 <ul>
 <li><a href="/basic/javascript">ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸</a></li>
 </ul>
 </li>
 <li>í…œí”Œë¦¿ ë ˆì´ì•„ì›ƒ
 <ul>
 <li><a href="/template/fragment">í…œí”Œë¦¿ ì¡°ê°</a></li>
 <li><a href="/template/layout">ìœ ì—°í•œ ë ˆì´ì•„ì›ƒ</a></li>
 <li><a href="/template/layoutExtend">ë ˆì´ì•„ì›ƒ ìƒì†</a></li>
 </ul>
 </li>
</ul>
</body>
</html>
```

### ì‹¤í–‰

[http://localhost:8080](http://localhost:8080/)

## IntelliJ Gradle ëŒ€ì‹ ì— ìë°” ì§ì ‘ ì‹¤í–‰

ìµœê·¼ IntelliJ ë²„ì „ì€ Gradleì„ í†µí•´ì„œ ì‹¤í–‰ í•˜ëŠ” ê²ƒì´ ê¸°ë³¸ ì„¤ì •ì´ë‹¤. ì´ë ‡ê²Œ í•˜ë©´ ì‹¤í–‰ì†ë„ê°€ ëŠë¦¬ë‹¤.
ë‹¤ìŒê³¼ ê°™ì´ ë³€ê²½í•˜ë©´ ìë°”ë¡œ ë°”ë¡œ ì‹¤í–‰í•´ì„œ ì‹¤í–‰ì†ë„ê°€ ë” ë¹ ë¥´ë‹¤

- Preferences â†’ Build, Execution, Deployment â†’ Build Tools â†’ Gradle
- Build and run using: Gradle â†’ IntelliJ IDEA
- Run tests using: Gradle â†’ IntelliJ IDEA

### ë¡¬ë³µ ì ìš©

1. Preferences â†’ plugin â†’ lombok ê²€ìƒ‰ ì‹¤í–‰ (ì¬ì‹œì‘)
2. Preferences â†’ Annotation Processors ê²€ìƒ‰ â†’ Enable annotation processing ì²´í¬ (ì¬ì‹œì‘)
3. ì„ì˜ì˜ í…ŒìŠ¤íŠ¸ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³  @Getter, @Setter í™•ì¸

# 1.2. íƒ€ì„ë¦¬í”„ ì†Œê°œ

- ê³µì‹ ì‚¬ì´íŠ¸: [https://www.thymeleaf.org/](https://www.thymeleaf.org/)
- ê³µì‹ ë©”ë‰´ì–¼ - ê¸°ë³¸ ê¸°ëŠ¥: [https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html)
- ê³µì‹ ë©”ë‰´ì–¼ - ìŠ¤í”„ë§ í†µí•©: [https://www.thymeleaf.org/doc/tutorials/3.0/thymeleafspring.html](https://www.thymeleaf.org/doc/tutorials/3.0/thymeleafspring.html)

ì´ì „ ê°•ì˜ì¸ ìŠ¤í”„ë§ MVC 1í¸ì—ì„œ íƒ€ì„ë¦¬í”„ë¥¼ ê°„ë‹¨íˆ ì‚¬ìš©í•´ë³´ê³ , ê·¸ íŠ¹ì§•ë“¤ë„ ì•Œì•„ë³´ì•˜ë‹¤.
ì´ë²ˆ ì‹œê°„ì—ëŠ” íƒ€ì„ë¦¬í”„ì˜ ê°œë…ì€ ê°„ë‹¨íˆ ì†Œê°œí•˜ê³ , ì‹¤ì œ ë™ì‘í•˜ëŠ” ê¸°ë³¸ ê¸°ëŠ¥ ìœ„ì£¼ë¡œ ì•Œì•„ë³´ê² ë‹¤

## íƒ€ì„ë¦¬í”„ íŠ¹ì§•

- ì„œë²„ ì‚¬ì´ë“œ HTML ë Œë”ë§ (SSR)
- ë„¤ì¸„ëŸ´ í…œí”Œë¦¿
- ìŠ¤í”„ë§ í†µí•© ì§€ì›

### ì„œë²„ ì‚¬ì´ë“œ HTML ë Œë”ë§ (SSR)

íƒ€ì„ë¦¬í”„ëŠ” ë°±ì—”ë“œ ì„œë²„ì—ì„œ HTMLì„ ë™ì ìœ¼ë¡œ ë Œë”ë§ í•˜ëŠ” ìš©ë„ë¡œ ì‚¬ìš©ëœë‹¤.

### ë„¤ì¸„ëŸ´ í…œí”Œë¦¿

íƒ€ì„ë¦¬í”„ëŠ” ìˆœìˆ˜ HTMLì„ ìµœëŒ€í•œ ìœ ì§€í•˜ëŠ” íŠ¹ì§•ì´ ìˆë‹¤.
íƒ€ì„ë¦¬í”„ë¡œ ì‘ì„±í•œ íŒŒì¼ì€ HTMLì„ ìœ ì§€í•˜ê¸° ë•Œë¬¸ì— ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ íŒŒì¼ì„ ì§ì ‘ ì—´ì–´ë„ ë‚´ìš©ì„ í™•ì¸í•  ìˆ˜ ìˆê³ , ì„œë²„ë¥¼ í†µí•´ ë·° í…œí”Œë¦¿ì„ ê±°ì¹˜ë©´ ë™ì ìœ¼ë¡œ ë³€ê²½ëœ ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
JSPë¥¼ í¬í•¨í•œ ë‹¤ë¥¸ ë·° í…œí”Œë¦¿ë“¤ì€ í•´ë‹¹ íŒŒì¼ì„ ì—´ë©´, ì˜ˆë¥¼ ë“¤ì–´ì„œ JSP íŒŒì¼ ìì²´ë¥¼ ê·¸ëŒ€ë¡œ ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ì—´ì–´ë³´ë©´ JSP ì†ŒìŠ¤ì½”ë“œì™€ HTMLì´ ë’¤ì£½ë°•ì£½ ì„ì—¬ì„œ ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ì •ìƒì ì¸ HTML ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ì—†ë‹¤. ì˜¤ì§ ì„œë²„ë¥¼ í†µí•´ì„œ JSPê°€ ë Œë”ë§ ë˜ê³  HTML ì‘ë‹µ ê²°ê³¼ë¥¼ ë°›ì•„ì•¼ í™”ë©´ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
ë°˜ë©´ì— íƒ€ì„ë¦¬í”„ë¡œ ì‘ì„±ëœ íŒŒì¼ì€ í•´ë‹¹ íŒŒì¼ì„ ê·¸ëŒ€ë¡œ ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ì—´ì–´ë„ ì •ìƒì ì¸ HTML ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ë¬¼ë¡  ì´ ê²½ìš° ë™ì ìœ¼ë¡œ ê²°ê³¼ê°€ ë Œë”ë§ ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. í•˜ì§€ë§Œ HTML ë§ˆí¬ì—… ê²°ê³¼ê°€ ì–´ë–»ê²Œ ë˜ëŠ”ì§€ íŒŒì¼ë§Œ ì—´ì–´ë„ ë°”ë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
ì´ë ‡ê²Œ ìˆœìˆ˜ **HTMLì„ ê·¸ëŒ€ë¡œ ìœ ì§€í•˜ë©´ì„œ ë·° í…œí”Œë¦¿ë„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” íƒ€ì„ë¦¬í”„ì˜ íŠ¹ì§•ì„ ë„¤ì¸„ëŸ´ í…œí”Œë¦¿** (natural templates)ì´ë¼ í•œë‹¤.

### ìŠ¤í”„ë§ í†µí•© ì§€ì›

íƒ€ì„ë¦¬í”„ëŠ” ìŠ¤í”„ë§ê³¼ ìì—°ìŠ¤ëŸ½ê²Œ í†µí•©ë˜ê³ , ìŠ¤í”„ë§ì˜ ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ ì§€ì›í•œë‹¤. ì´ ë¶€ë¶„ì€ ìŠ¤í”„ë§ í†µí•©ê³¼ í¼ ì¥ì—ì„œ ìì„¸íˆ ì•Œì•„ë³´ê² ë‹¤.

## íƒ€ì„ë¦¬í”„ ê¸°ë³¸ ê¸°ëŠ¥

### íƒ€ì„ë¦¬í”„ ì‚¬ìš© ì„ ì–¸

`<html xmlns:th="[http://www.thymeleaf.org](http://www.thymeleaf.org/)">`

### ê¸°ë³¸ í‘œí˜„ì‹

íƒ€ì„ë¦¬í”„ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê¸°ë³¸ í‘œí˜„ì‹ë“¤ì„ ì œê³µí•œë‹¤. ì§€ê¸ˆë¶€í„° í•˜ë‚˜ì”© ì•Œì•„ë³´ì.

- ê°„ë‹¨í•œ í‘œí˜„:
    - ë³€ìˆ˜ í‘œí˜„ì‹: ${...}
    - ì„ íƒ ë³€ìˆ˜ í‘œí˜„ì‹: *{...}
    - ë©”ì‹œì§€ í‘œí˜„ì‹: #{...}
    - ë§í¬ URL í‘œí˜„ì‹: @{...}
    - ì¡°ê° í‘œí˜„ì‹: ~{...}
- ë¦¬í„°ëŸ´
    - í…ìŠ¤íŠ¸: 'one text', 'Another one!',â€¦
    - ìˆ«ì: 0, 34, 3.0, 12.3,â€¦
    - ë¶ˆë¦°: true, false
    - ë„: null
    - ë¦¬í„°ëŸ´ í† í°: one, sometext, main,â€¦
- ë¬¸ì ì—°ì‚°:
    - ë¬¸ì í•©ì¹˜ê¸°: +
    - ë¦¬í„°ëŸ´ ëŒ€ì²´: |The name is ${name}|
- ì‚°ìˆ  ì—°ì‚°:
    - Binary operators: +, -, *, /, %
    - Minus sign (unary operator): -
- ë¶ˆë¦° ì—°ì‚°:
    - Binary operators: and, or
    - Boolean negation (unary operator): !, not
- ë¹„êµì™€ ë™ë“±:
    - ë¹„êµ: >, <, >=, <= (gt, lt, ge, le)
    - ë™ë“± ì—°ì‚°: ==, != (eq, ne)
- ì¡°ê±´ ì—°ì‚°:
    - If-then: (if) ? (then)
    - If-then-else: (if) ? (then) : (else)
    - Default: (value) ?: (defaultvalue)
- íŠ¹ë³„í•œ í† í°:
    - No-Operation: _

ì°¸ê³ : [https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#standardexpression-syntax](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#standardexpression-syntax)

# 1.3. í…ìŠ¤íŠ¸ - text, utext

íƒ€ì„ë¦¬í”„ì˜ ê°€ì¥ ê¸°ë³¸ ê¸°ëŠ¥ì¸ í…ìŠ¤íŠ¸ë¥¼ ì¶œë ¥í•˜ëŠ” ê¸°ëŠ¥ ë¨¼ì € ì•Œì•„ë³´ì.

íƒ€ì„ë¦¬í”„ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ HTML í…Œê·¸ì˜ ì†ì„±ì— ê¸°ëŠ¥ì„ ì •ì˜í•´ì„œ ë™ì‘í•œë‹¤. HTMLì˜ ì½˜í…ì¸ (content)ì—
ë°ì´í„°ë¥¼ ì¶œë ¥í•  ë•ŒëŠ” ë‹¤ìŒê³¼ ê°™ì´ `th:text` ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
`<span th:text="${data}">`

HTML í…Œê·¸ì˜ ì†ì„±ì´ ì•„ë‹ˆë¼ HTML ì½˜í…ì¸  ì˜ì—­ì•ˆì—ì„œ ì§ì ‘ ë°ì´í„°ë¥¼ ì¶œë ¥í•˜ê³  ì‹¶ìœ¼ë©´ ë‹¤ìŒê³¼ ê°™ì´
`[[...]]` ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
`ì»¨í…ì¸  ì•ˆì—ì„œ ì§ì ‘ ì¶œë ¥í•˜ê¸° = [[${data}]]`

### BasicController

```java
package hello.thymeleaf.basic;
import org.springframework.stereotype.Controller;
import org.springframework.ui.Model;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
@Controller
@RequestMapping("/basic")
public class BasicController {
 @GetMapping("/text-basic")
 public String textBasic(Model model) {
 model.addAttribute("data", "Hello Spring!");
 return "basic/text-basic";
 }
}
```

`/resources/templates/basic/text-basic.html`

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
 <meta charset="UTF-8">
 <title>Title</title>
</head>
<body>
<h1>ì»¨í…ì¸ ì— ë°ì´í„° ì¶œë ¥í•˜ê¸°</h1>
<ul>
 <li>th:text ì‚¬ìš© <span th:text="${data}"></span></li>
 <li>ì»¨í…ì¸  ì•ˆì—ì„œ ì§ì ‘ ì¶œë ¥í•˜ê¸° = [[${data}]]</li>
</ul>
</body>
</html>
```

### ì‹¤í–‰

[http://localhost:8080/basic/text-basic](http://localhost:8080/basic/text-basic)

## Escape

HTML ë¬¸ì„œëŠ” `<` , `>` ê°™ì€ íŠ¹ìˆ˜ ë¬¸ìë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì •ì˜ëœë‹¤. ë”°ë¼ì„œ ë·° í…œí”Œë¦¿ìœ¼ë¡œ HTML í™”ë©´ì„ ìƒì„±í•  ë•ŒëŠ” ì¶œë ¥í•˜ëŠ” ë°ì´í„°ì— ì´ëŸ¬í•œ íŠ¹ìˆ˜ ë¬¸ìê°€ ìˆëŠ” ê²ƒì„ ì£¼ì˜í•´ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤.
ì•ì—ì„œ ë§Œë“  ì˜ˆì œì˜ ë°ì´í„°ë¥¼ ë‹¤ìŒê³¼ ê°™ì´ ë³€ê²½í•´ì„œ ì‹¤í–‰í•´ë³´ì

### ë³€ê²½ ì „

`"Hello Spring!â€`

### ë³€ê²½ í›„

`"Hello **Spring!**"`

`<b>`í…Œê·¸ë¥¼ ì‚¬ìš©í•´ì„œ **Spring!**ì´ë¼ëŠ” ë‹¨ì–´ê°€ ì§„í•˜ê²Œ ë‚˜ì˜¤ë„ë¡ í•´ë³´ì

- ì›¹ ë¸Œë¼ìš°ì €: `Hello <b>Spring!<b>`
- ì†ŒìŠ¤ë³´ê¸°: Hello &lt;b&gt;Spring!&lt;/b&gt;

### HTML ì—”í‹°í‹°

ì›¹ ë¸Œë¼ìš°ì €ëŠ” `<` ë¥¼ HTML í…Œê·¸ì˜ ì‹œì‘ìœ¼ë¡œ ì¸ì‹í•œë‹¤. ë”°ë¼ì„œ `<` ë¥¼ í…Œê·¸ì˜ ì‹œì‘ì´ ì•„ë‹ˆë¼ ë¬¸ìë¡œ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ í•„ìš”í•œë°, ì´ê²ƒì„ HTML ì—”í‹°í‹°ë¼ í•œë‹¤. ê·¸ë¦¬ê³  ì´ë ‡ê²Œ HTMLì—ì„œ ì‚¬ìš©í•˜ëŠ” íŠ¹ìˆ˜ ë¬¸ìë¥¼ HTML ì—”í‹°í‹°ë¡œ ë³€ê²½í•˜ëŠ” ê²ƒì„ ì´ìŠ¤ì¼€ì´í”„(escape)ë¼ í•œë‹¤. ê·¸ë¦¬ê³  íƒ€ì„ë¦¬í”„ê°€ ì œê³µí•˜ëŠ” th:text , `[[...]]` ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì´ìŠ¤ì¼€ì´ìŠ¤(escape)ë¥¼ ì œê³µí•œ

- `<` â†’ `&lt;`
- `>` â†’ `&gt;`
- ê¸°íƒ€ ìˆ˜ ë§ì€ HTML ì—”í‹°í‹°ê°€ ìˆë‹¤.

## Unescape

ì´ìŠ¤ì¼€ì´í”„ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ì§€ ì•Šìœ¼ë ¤ë©´ ì–´ë–»ê²Œ í•´ì•¼í• ê¹Œ?

íƒ€ì„ë¦¬í”„ëŠ” ë‹¤ìŒ ë‘ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.

- `th:text`  `th:utext`
- `[[...]]` â†’ `[(...)]`

### BasicControllerì— ì¶”ê°€

```java
@GetMapping("/text-unescaped")
public String textUnescaped(Model model) {
 model.addAttribute("data", "Hello <b>Spring!</b>");
 return "basic/text-unescaped";
}
```

`/resources/templates/basic/text-unescape.html`

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
 <meta charset="UTF-8">
 <title>Title</title>
</head>
<body>
<h1>text vs utext</h1>
<ul>
 <li>th:text = <span th:text="${data}"></span></li>
 <li>th:utext = <span th:utext="${data}"></span></li>
</ul>
<h1><span th:inline="none">[[...]] vs [(...)]</span></h1>
<ul>
 <li><span th:inline="none">[[...]] = </span>[[${data}]]</li>
 <li><span th:inline="none">[(...)] = </span>[(${data})]</li>
</ul>
</body>
</html>
```

- `th:inline="none"` : íƒ€ì„ë¦¬í”„ëŠ” `[[...]]` ë¥¼ í•´ì„í•˜ê¸° ë•Œë¬¸ì—, í™”ë©´ì— `[[...]]` ê¸€ìë¥¼ ë³´ì—¬ì¤„ ìˆ˜ ì—†ë‹¤.
ì´ í…Œê·¸ ì•ˆì—ì„œëŠ” íƒ€ì„ë¦¬í”„ê°€ í•´ì„í•˜ì§€ ë§ë¼ëŠ” ì˜µì…˜ì´ë‹¤.

### ì‹¤í–‰

[http://localhost:8080/basic/text-unescaped](http://localhost:8080/basic/text-unescaped)

ì‹¤í–‰í•´ë³´ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì •ìƒ ìˆ˜í–‰ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
ì›¹ ë¸Œë¼ìš°ì €: Hello **Spring!**
ì†ŒìŠ¤ë³´ê¸°: `Hello <b>Spring!</b>`

# 1.4. ë³€ìˆ˜ SpringEL

íƒ€ì„ë¦¬í”„ì—ì„œ ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•  ë•ŒëŠ” ë³€ìˆ˜ í‘œí˜„ì‹ì„ ì‚¬ìš©í•œë‹¤.

**ë³€ìˆ˜ í‘œí˜„ì‹** : `${...}`

ê·¸ë¦¬ê³  ì´ ë³€ìˆ˜ í‘œí˜„ì‹ì—ëŠ” ìŠ¤í”„ë§ ELì´ë¼ëŠ” ìŠ¤í”„ë§ì´ ì œê³µí•˜ëŠ” í‘œí˜„ì‹ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

### BasicController ì¶”ê°€

```java
@GetMapping("/variable")
public String variable(Model model) {
 User userA = new User("userA", 10);
 User userB = new User("userB", 20);
 List<User> list = new ArrayList<>();
 list.add(userA);
 list.add(userB);
 Map<String, User> map = new HashMap<>();
 map.put("userA", userA);
 map.put("userB", userB);
 model.addAttribute("user", userA);
 model.addAttribute("users", list);
 model.addAttribute("userMap", map);
 return "basic/variable";
}
@Data
static class User {
 private String username;
 private int age;
 public User(String username, int age) {
 this.username = username;
 this.age = age;
 }
}
```

`/resources/templates/basic/variable.html`

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
 <meta charset="UTF-8">
 <title>Title</title>
</head>
<body>
<h1>SpringEL í‘œí˜„ì‹</h1>
<ul>Object
 <li>${user.username} = <span th:text="${user.username}"></span></li>
 <li>${user['username']} = <span th:text="${user['username']}"></span></li>
 <li>${user.getUsername()} = <span th:text="${user.getUsername()}"></span></
li>
</ul>
<ul>List
 <li>${users[0].username} = <span th:text="${users[0].username}"></
span></li>
 <li>${users[0]['username']} = <span th:text="${users[0]['username']}"></
span></li>
 <li>${users[0].getUsername()} = <span th:text="$
{users[0].getUsername()}"></span></li>
</ul>
<ul>Map
 <li>${userMap['userA'].username} = <span th:text="$
{userMap['userA'].username}"></span></li>
 <li>${userMap['userA']['username']} = <span th:text="${userMap['userA']
['username']}"></span></li>
 <li>${userMap['userA'].getUsername()} = <span th:text="$
{userMap['userA'].getUsername()}"></span></li>
</ul>
</body>
</html>
```

**SpringEL ë‹¤ì–‘í•œ í‘œí˜„ì‹ ì‚¬ìš©**

### Object

- `user.username` : userì˜ usernameì„ í”„ë¡œí¼í‹° ì ‘ê·¼ â†’ `user.getUsername()`
- `user['username']` : ìœ„ì™€ ê°™ìŒ â†’ `user.getUsername()`
- `user.getUsername()` : userì˜ `getUsername()` ì„ ì§ì ‘ í˜¸ì¶œ

### List

- `users[0].username` : Listì—ì„œ ì²« ë²ˆì§¸ íšŒì›ì„ ì°¾ê³  username í”„ë¡œí¼í‹° ì ‘ê·¼ â†’ `list.get(0).getUsername()`
- `users[0]['username']` : ìœ„ì™€ ê°™ìŒ
- `users[0].getUsername()` : Listì—ì„œ ì²« ë²ˆì§¸ íšŒì›ì„ ì°¾ê³  ë©”ì„œë“œ ì§ì ‘ í˜¸ì¶œ

### Map

- `userMap['userA'].username` : Mapì—ì„œ userAë¥¼ ì°¾ê³ , username í”„ë¡œí¼í‹° ì ‘ê·¼â†’ `map.get("userA").getUsername()`
- `userMap['userA']['username']` : ìœ„ì™€ ê°™ìŒ
- `userMap['userA'].getUsername()` : Mapì—ì„œ userAë¥¼ ì°¾ê³  ë©”ì„œë“œ ì§ì ‘ í˜¸ì¶œ

**ì‹¤í–‰**

[http://localhost:8080/basic/variable](http://localhost:8080/basic/variable)

## ì§€ì—­ ë³€ìˆ˜ ì„ ì–¸

`th:with` ë¥¼ ì‚¬ìš©í•˜ë©´ ì§€ì—­ ë³€ìˆ˜ë¥¼ ì„ ì–¸í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì§€ì—­ ë³€ìˆ˜ëŠ” ì„ ì–¸í•œ í…Œê·¸ ì•ˆì—ì„œë§Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

`/resources/templates/basic/variable.html` ì¶”ê°€

```html
<h1>ì§€ì—­ ë³€ìˆ˜ - (th:with)</h1>
<div th:with="first=${users[0]}">
 <p>ì²˜ìŒ ì‚¬ëŒì˜ ì´ë¦„ì€ <span th:text="${first.username}"></span></p>
</div>
```

# 1.5 ê¸°ë³¸ ê°ì²´ë“¤

íƒ€ì„ë¦¬í”„ëŠ” ê¸°ë³¸ ê°ì²´ë“¤ì„ ì œê³µí•œë‹¤.

- `${#request}` - ìŠ¤í”„ë§ ë¶€íŠ¸ 3.0ë¶€í„° ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤.
- `${#response`} - ìŠ¤í”„ë§ ë¶€íŠ¸ 3.0ë¶€í„° ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤.
- `${#session}` - ìŠ¤í”„ë§ ë¶€íŠ¸ 3.0ë¶€í„° ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤.
- `${#servletContext}` - ìŠ¤í”„ë§ ë¶€íŠ¸ 3.0ë¶€í„° ì œê³µí•˜ì§€ ì•ŠëŠ”ë‹¤.
- `${#locale}`

### ì£¼ì˜! - ìŠ¤í”„ë§ ë¶€íŠ¸ 3.0

ìŠ¤í”„ë§ ë¶€íŠ¸ 3.0 ë¶€í„°ëŠ” `${#request}` , `${#response}` , `${#session}` , `${#servletContext}` ë¥¼
ì§€ì›í•˜ì§€ ì•ŠëŠ”ë‹¤. ë§Œì•½ ì‚¬ìš©í•˜ê²Œ ë˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤.

<aside>
ğŸ’¡ Caused by: java.lang.IllegalArgumentException: The
'request','session','servletContext' and 'response' expression utility objects
are no longer available by default for template expressions and their use is
not recommended. In cases where they are really needed, they should be manually
added as context variables.

</aside>

ìŠ¤í”„ë§ ë¶€íŠ¸ 3.0ì´ë¼ë©´ ì§ì ‘ `model` ì— í•´ë‹¹ ê°ì²´ë¥¼ ì¶”ê°€í•´ì„œ ì‚¬ìš©í•´ì•¼ í•œë‹¤. ë©”ë‰´ì–¼ í•˜ë‹¨ì— ìŠ¤í”„ë§ ë¶€íŠ¸ 3.0ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì˜ˆì‹œë¥¼ ì ì–´ë‘ì—ˆë‹¤.

ê·¸ëŸ°ë° `#request` ëŠ” `HttpServletRequest` ê°ì²´ê°€ ê·¸ëŒ€ë¡œ ì œê³µë˜ê¸° ë•Œë¬¸ì— ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ë ¤ë©´
`request.getParameter("data")` ì²˜ëŸ¼ ë¶ˆí¸í•˜ê²Œ ì ‘ê·¼í•´ì•¼ í•œë‹¤.

ì´ëŸ° ì ì„ í•´ê²°í•˜ê¸° ìœ„í•´ í¸ì˜ ê°ì²´ë„ ì œê³µí•œë‹¤.

- HTTP ìš”ì²­ íŒŒë¼ë¯¸í„° ì ‘ê·¼: param
    - ì˜ˆ) ${param.paramData}
- HTTP ì„¸ì…˜ ì ‘ê·¼: session
    - ì˜ˆ) ${session.sessionData}
- ìŠ¤í”„ë§ ë¹ˆ ì ‘ê·¼: @
    - ì˜ˆ) ${@helloBean.hello('Spring!')}

## ìŠ¤í”„ë§ ë¶€íŠ¸ 3.0 ë¯¸ë§Œì´ë¼ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•˜ì. (ì˜ìƒ ê¸°ì¤€)

### BasicController ì¶”ê°€

```java
@GetMapping("/basic-objects")
public String basicObjects(HttpSession session) {
 session.setAttribute("sessionData", "Hello Session");
 return "basic/basic-objects";
}
@Component("helloBean")
static class HelloBean {
 public String hello(String data) {
 return "Hello " + data;
 }
}
```

`/resources/templates/basic/basic-objects.html`

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
 <meta charset="UTF-8">
 <title>Title</title>
</head>
<body>
<h1>ì‹ ê¸°ë³¸ ê°ì²´ (Expression Basic Objects)</h1>
<ul>
 <li>request = <span th:text="${#request}"></span></li>
 <li>response = <span th:text="${#response}"></span></li>
 <li>session = <span th:text="${#session}"></span></li>
 <li>servletContext = <span th:text="${#servletContext}"></span></li>
 <li>locale = <span th:text="${#locale}"></span></li>
</ul>
<h1>í¸ì˜ ê°ì²´</h1>
<ul>
 <li>Request Parameter = <span th:text="${param.paramData}"></span></li>
 <li>session = <span th:text="${session.sessionData}"></span></li>
 <li>spring bean = <span th:text="${@helloBean.hello('Spring!')}"></span></
li>
</ul>
</body>
</html>
```

**ì‹¤í–‰**
[http://localhost:8080/basic/basic-objects?paramData=HelloParam](http://localhost:8080/basic/basic-objects?paramData=HelloParam)

### ìŠ¤í”„ë§ ë¶€íŠ¸ 3.0 ì´ìƒì´ë¼ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì„±í•˜ì

### BasicController ì¶”ê°€

```java
@GetMapping("/basic-objects")
public String basicObjects(Model model, HttpServletRequest request,
HttpServletResponse response, HttpSession session) {
 session.setAttribute("sessionData", "Hello Session");
 model.addAttribute("request", request);
 model.addAttribute("response", response);
 model.addAttribute("servletContext", request.getServletContext());
 return "basic/basic-objects";
}
@Component("helloBean")
static class HelloBean {
 public String hello(String data) {
 return "Hello " + data;
 }
}
```

`/resources/templates/basic/basic-objects.html`

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
 <meta charset="UTF-8">
 <title>Title</title>
</head>
<body>
<h1>ì‹ ê¸°ë³¸ ê°ì²´ (Expression Basic Objects)</h1>
<ul>
 <li>request = <span th:text="${request}"></span></li>
 <li>response = <span th:text="${response}"></span></li>
 <li>session = <span th:text="${session}"></span></li>
 <li>servletContext = <span th:text="${servletContext}"></span></li>
 <li>locale = <span th:text="${#locale}"></span></li>
</ul>
<h1>í¸ì˜ ê°ì²´</h1>
<ul>
 <li>Request Parameter = <span th:text="${param.paramData}"></span></li>
 <li>session = <span th:text="${session.sessionData}"></span></li>
 <li>spring bean = <span th:text="${@helloBean.hello('Spring!')}"></span></
li>
</ul>
</body>
</html>
```

**ì‹¤í–‰**
[http://localhost:8080/basic/basic-objects?paramData=HelloParam](http://localhost:8080/basic/basic-objects?paramData=HelloParam)

# 1.6. ìœ í‹¸ë¦¬í‹° ê°ì²´ì™€ ë‚ ì§œ

íƒ€ì„ë¦¬í”„ëŠ” ë¬¸ì, ìˆ«ì, ë‚ ì§œ, URIë“±ì„ í¸ë¦¬í•˜ê²Œ ë‹¤ë£¨ëŠ” ë‹¤ì–‘í•œ ìœ í‹¸ë¦¬í‹° ê°ì²´ë“¤ì„ ì œê³µí•œë‹¤

### íƒ€ì„ë¦¬í”„ ìœ í‹¸ë¦¬í‹° ê°ì²´ë“¤

- `#message` : ë©”ì‹œì§€, êµ­ì œí™” ì²˜ë¦¬
- `#uris` : URI ì´ìŠ¤ì¼€ì´í”„ ì§€ì›
- `#dates` : java.util.Date ì„œì‹ ì§€ì›
- `#calendars` : java.util.Calendar ì„œì‹ ì§€ì›
- `#temporals` : ìë°”8 ë‚ ì§œ ì„œì‹ ì§€ì›
- `#numbers` : ìˆ«ì ì„œì‹ ì§€ì›
- `#strings` : ë¬¸ì ê´€ë ¨ í¸ì˜ ê¸°ëŠ¥
- `#objects` : ê°ì²´ ê´€ë ¨ ê¸°ëŠ¥ ì œê³µ
- `#bools` : boolean ê´€ë ¨ ê¸°ëŠ¥ ì œê³µ
- `#arrays` : ë°°ì—´ ê´€ë ¨ ê¸°ëŠ¥ ì œê³µ
- `#lists` , `#sets` , `#maps` : ì»¬ë ‰ì…˜ ê´€ë ¨ ê¸°ëŠ¥ ì œê³µ
- `#ids` : ì•„ì´ë”” ì²˜ë¦¬ ê´€ë ¨ ê¸°ëŠ¥ ì œê³µ, ë’¤ì—ì„œ ì„¤ëª…

### íƒ€ì„ë¦¬í”„ ìœ í‹¸ë¦¬í‹° ê°ì²´

[https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#expression-utilityobjects](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#expression-utilityobjects)

### ìœ í‹¸ë¦¬í‹° ê°ì²´ ì˜ˆì‹œ

[https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#appendix-b-expressionutility-objects](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#appendix-b-expressionutility-objects)

> **ì°¸ê³ **
ì´ëŸ° ìœ í‹¸ë¦¬í‹° ê°ì²´ë“¤ì€ ëŒ€ëµ ì´ëŸ° ê²ƒì´ ìˆë‹¤ ì•Œì•„ë‘ê³ , í•„ìš”í•  ë•Œ ì°¾ì•„ì„œ ì‚¬ìš©í•˜ë©´ ëœë‹¤.
> 

### ìë°”8 ë‚ ì§œ

íƒ€ì„ë¦¬í”„ì—ì„œ ìë°”8 ë‚ ì§œì¸ `LocalDate` , `LocalDateTime` , `Instant` ë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì¶”ê°€ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•˜ë‹¤. ìŠ¤í”„ë§ ë¶€íŠ¸ íƒ€ì„ë¦¬í”„ë¥¼ ì‚¬ìš©í•˜ë©´ í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ìë™ìœ¼ë¡œ ì¶”ê°€ë˜ê³  í†µí•©ëœë‹¤.

### íƒ€ì„ë¦¬í”„ ìë°”8 ë‚ ì§œ ì§€ì› ë¼ì´ë¸ŒëŸ¬ë¦¬

`thymeleaf-extras-java8time`

ìë°”8 ë‚ ì§œìš© ìœ í‹¸ë¦¬í‹° ê°ì²´

`#temporals`

### ì‚¬ìš© ì˜ˆì‹œ

```html
<span th:text="${#temporals.format(localDateTime, 'yyyy-MM-dd HH:mm:ss')}"></
span>
```

### BasicController ì¶”ê°€

```java
@GetMapping("/date")
public String date(Model model) {
 model.addAttribute("localDateTime", LocalDateTime.now());
 return "basic/date";
}
```

`/resources/templates/basic/date.html`

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
 <meta charset="UTF-8">
 <title>Title</title>
</head>
<body>
<h1>LocalDateTime</h1>
<ul>
 <li>default = <span th:text="${localDateTime}"></span></li>
 <li>yyyy-MM-dd HH:mm:ss = <span th:text="${#temporals.format(localDateTime,
'yyyy-MM-dd HH:mm:ss')}"></span></li>
</ul>
<h1>LocalDateTime - Utils</h1>
<ul>
 <li>${#temporals.day(localDateTime)} = <span th:text="$
{#temporals.day(localDateTime)}"></span></li>
 <li>${#temporals.month(localDateTime)} = <span th:text="$
{#temporals.month(localDateTime)}"></span></li>
 <li>${#temporals.monthName(localDateTime)} = <span th:text="$
{#temporals.monthName(localDateTime)}"></span></li>
 <li>${#temporals.monthNameShort(localDateTime)} = <span th:text="$
{#temporals.monthNameShort(localDateTime)}"></span></li>
 <li>${#temporals.year(localDateTime)} = <span th:text="$
{#temporals.year(localDateTime)}"></span></li>
 <li>${#temporals.dayOfWeek(localDateTime)} = <span th:text="$
{#temporals.dayOfWeek(localDateTime)}"></span></li>
 <li>${#temporals.dayOfWeekName(localDateTime)} = <span th:text="$
{#temporals.dayOfWeekName(localDateTime)}"></span></li>
 <li>${#temporals.dayOfWeekNameShort(localDateTime)} = <span th:text="$
{#temporals.dayOfWeekNameShort(localDateTime)}"></span></li>
 <li>${#temporals.hour(localDateTime)} = <span th:text="$
{#temporals.hour(localDateTime)}"></span></li>
 <li>${#temporals.minute(localDateTime)} = <span th:text="$
{#temporals.minute(localDateTime)}"></span></li>
 <li>${#temporals.second(localDateTime)} = <span th:text="$
{#temporals.second(localDateTime)}"></span></li>
 <li>${#temporals.nanosecond(localDateTime)} = <span th:text="$
{#temporals.nanosecond(localDateTime)}"></span></li>
</ul>
</body>
</html>
```

# 1.7. URL ë§í¬

íƒ€ì„ë¦¬í”„ì—ì„œ URLì„ ìƒì„±í•  ë•ŒëŠ” `@{...}` ë¬¸ë²•ì„ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

### BasicController ì¶”ê°€

```java
@GetMapping("/link")
public String link(Model model) {
 model.addAttribute("param1", "data1");
 model.addAttribute("param2", "data2");
 return "basic/link";
}
```

`/resources/templates/basic/link.html`

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
 <meta charset="UTF-8">
 <title>Title</title>
</head>
<body>
<h1>URL ë§í¬</h1>
<ul>
 <li><a th:href="@{/hello}">basic url</a></li>
 <li><a th:href="@{/hello(param1=${param1}, param2=${param2})}">hello query
param</a></li>
 <li><a th:href="@{/hello/{param1}/{param2}(param1=${param1}, param2=$
{param2})}">path variable</a></li>
 <li><a th:href="@{/hello/{param1}(param1=${param1}, param2=$
{param2})}">path variable + query parameter</a></li>
</ul>
</body>
</html>
```

### ë‹¨ìˆœí•œ URL

- `@{/hello}` â†’ `/hello`

### ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°

- `@{/hello(param1=${param1}, param2=${param2})}`
- â†’ `/hello?param1=data1&param2=data2`
- `()` ì— ìˆëŠ” ë¶€ë¶„ì€ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¡œ ì²˜ë¦¬ëœë‹¤.

### ê²½ë¡œ ë³€ìˆ˜

- `@{/hello/{param1}/{param2}(param1=${param1}, param2=${param2})}`
- â†’ `/hello/data1/data2`
- URL ê²½ë¡œìƒì— ë³€ìˆ˜ê°€ ìˆìœ¼ë©´ `()` ë¶€ë¶„ì€ ê²½ë¡œ ë³€ìˆ˜ë¡œ ì²˜ë¦¬ëœë‹¤

### ê²½ë¡œ ë³€ìˆ˜ + ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°

- @{/hello/{param1}(param1=${param1}, param2=${param2})}â€™
- /hello/data1?param2=data2
- ê²½ë¡œ ë³€ìˆ˜ì™€ ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ë¥¼ í•¨ê»˜ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

# 1.8. ë¦¬í„°ëŸ´

**Literals**
ë¦¬í„°ëŸ´ì€ ì†ŒìŠ¤ ì½”ë“œìƒì— ê³ ì •ëœ ê°’ì„ ë§í•˜ëŠ” ìš©ì–´ì´ë‹¤.
ì˜ˆë¥¼ ë“¤ì–´ì„œ ë‹¤ìŒ ì½”ë“œì—ì„œ "Hello" ëŠ” ë¬¸ì ë¦¬í„°ëŸ´, 10 , 20 ëŠ” ìˆ«ì ë¦¬í„°ëŸ´ì´ë‹¤.

```java
String a = "Hello"
int a = 10 * 20
```

> **ì°¸ê³ **
ì´ ë‚´ìš©ì´ ì‰¬ì›Œ ë³´ì´ì§€ë§Œ ì²˜ìŒ íƒ€ì„ë¦¬í”„ë¥¼ ì‚¬ìš©í•˜ë©´ ë§ì´ ì‹¤ìˆ˜í•˜ë‹ˆ ì˜ ë³´ì•„ë‘ì.
> 

íƒ€ì„ë¦¬í”„ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ë¦¬í„°ëŸ´ì´ ìˆë‹¤.

- ë¬¸ì: 'hello'
- ìˆ«ì: 10
- ë¶ˆë¦°: true , false
- null: null

íƒ€ì„ë¦¬í”„ì—ì„œ ë¬¸ì ë¦¬í„°ëŸ´ì€ í•­ìƒ ' (ì‘ì€ ë”°ì˜´í‘œ)ë¡œ ê°ì‹¸ì•¼ í•œë‹¤.
`<span th:text="'hello'">`

ê·¸ëŸ°ë° ë¬¸ìë¥¼ í•­ìƒ ' ë¡œ ê°ì‹¸ëŠ” ê²ƒì€ ë„ˆë¬´ ê·€ì°®ì€ ì¼ì´ë‹¤. ê³µë°± ì—†ì´ ì­‰ ì´ì–´ì§„ë‹¤ë©´ í•˜ë‚˜ì˜ ì˜ë¯¸ìˆëŠ”
í† í°ìœ¼ë¡œ ì¸ì§€í•´ì„œ ë‹¤ìŒê³¼ ê°™ì´ ì‘ì€ ë”°ì˜´í‘œë¥¼ ìƒëµí•  ìˆ˜ ìˆë‹¤.
ë£°: `A-Z` , `a-z` , `0-9` , `[]` , `.` , `-` , `_`
`<span th:text="hello">`

### BasicController ì¶”ê°€

```java
@GetMapping("/literal")
public String literal(Model model) {
 model.addAttribute("data", "Spring!");
 return "basic/literal";
}
```

`/resources/templates/basic/literal.html`

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
 <meta charset="UTF-8">
 <title>Title</title>
</head>
<body>
<h1>ë¦¬í„°ëŸ´</h1>
<ul>
 <!--ì£¼ì˜! ë‹¤ìŒ ì£¼ì„ì„ í’€ë©´ ì˜ˆì™¸ê°€ ë°œìƒí•¨-->
<!-- <li>"hello world!" = <span th:text="hello world!"></span></li>-->
 <li>'hello' + ' world!' = <span th:text="'hello' + ' world!'"></span></li>
 <li>'hello world!' = <span th:text="'hello world!'"></span></li>
 <li>'hello ' + ${data} = <span th:text="'hello ' + ${data}"></span></li>
 <li>ë¦¬í„°ëŸ´ ëŒ€ì²´ |hello ${data}| = <span th:text="|hello ${data}|"></span></li>
</ul>
</body>
</html>
```

### ë¦¬í„°ëŸ´ ëŒ€ì²´(Literal substitutions)

`<span th:text="|hello ${data}|">`
ë§ˆì§€ë§‰ì˜ ë¦¬í„°ëŸ´ ëŒ€ì²´ ë¬¸ë²•ì„ ì‚¬ìš©í•˜ë©´ ë§ˆì¹˜ í…œí”Œë¦¿ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒ ì²˜ëŸ¼ í¸ë¦¬í•˜ë‹¤.

# 1.9. ì—°ì‚°

íƒ€ì„ë¦¬í”„ ì—°ì‚°ì€ ìë°”ì™€ í¬ê²Œ ë‹¤ë¥´ì§€ ì•Šë‹¤. HTMLì•ˆì—ì„œ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— HTML ì—”í‹°í‹°ë¥¼ ì‚¬ìš©í•˜ëŠ”
ë¶€ë¶„ë§Œ ì£¼ì˜í•˜ì.

### BasicController ì¶”ê°€

```java
@GetMapping("/operation")
public String operation(Model model) {
 model.addAttribute("nullData", null);
 model.addAttribute("data", "Spring!");
 return "basic/operation";
}
```

`/resources/templates/basic/operation.html`

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
 <meta charset="UTF-8">
 <title>Title</title>
</head>
<body>
<ul>
 <li>ì‚°ìˆ  ì—°ì‚°
 <ul>
 <li>10 + 2 = <span th:text="10 + 2"></span></li>
 <li>10 % 2 == 0 = <span th:text="10 % 2 == 0"></span></li>
 </ul>
 </li>
 <li>ë¹„êµ ì—°ì‚°
 <ul>
 <li>1 > 10 = <span th:text="1 &gt; 10"></span></li>
 <li>1 gt 10 = <span th:text="1 gt 10"></span></li>
 <li>1 >= 10 = <span th:text="1 >= 10"></span></li>
 <li>1 ge 10 = <span th:text="1 ge 10"></span></li>
 <li>1 == 10 = <span th:text="1 == 10"></span></li>
 <li>1 != 10 = <span th:text="1 != 10"></span></li>
 </ul>
 </li>
 <li>ì¡°ê±´ì‹
 <ul>
 <li>(10 % 2 == 0)? 'ì§ìˆ˜':'í™€ìˆ˜' = <span th:text="(10 % 2 == 0)?
'ì§ìˆ˜':'í™€ìˆ˜'"></span></li>
 </ul>
 </li>
 <li>Elvis ì—°ì‚°ì
 <ul>
 <li>${data}?: 'ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.' = <span th:text="${data}?: 'ë°ì´í„°ê°€
ì—†ìŠµë‹ˆë‹¤.'"></span></li>
 <li>${nullData}?: 'ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.' = <span th:text="${nullData}?:
'ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.'"></span></li>
 </ul>
 </li>
 <li>No-Operation
 <ul>
 <li>${data}?: _ = <span th:text="${data}?: _">ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</
span></li>
 <li>${nullData}?: _ = <span th:text="${nullData}?: _">ë°ì´í„°ê°€
ì—†ìŠµë‹ˆë‹¤.</span></li>
 </ul>
 </li>
</ul>
</body>
</html>
```

- **ë¹„êµì—°ì‚°**: HTML ì—”í‹°í‹°ë¥¼ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ë¶€ë¶„ì„ ì£¼ì˜í•˜ì,
    - `>` (gt), `<` (lt), `>=` (ge), `<=` (le), `!` (not), `==` (eq), `!=` (neq, ne)
- **ì¡°ê±´ì‹**: ìë°”ì˜ ì¡°ê±´ì‹ê³¼ ìœ ì‚¬í•˜ë‹¤.
- **Elvis** ì—°ì‚°ì: ì¡°ê±´ì‹ì˜ í¸ì˜ ë²„ì „
- **No-Operation**: _ ì¸ ê²½ìš° ë§ˆì¹˜ íƒ€ì„ë¦¬í”„ê°€ ì‹¤í–‰ë˜ì§€ ì•ŠëŠ” ê²ƒ ì²˜ëŸ¼ ë™ì‘í•œë‹¤. ì´ê²ƒì„ ì˜ ì‚¬ìš©í•˜ë©´ HTML ì˜ ë‚´ìš© ê·¸ëŒ€ë¡œ í™œìš©í•  ìˆ˜ ìˆë‹¤. ë§ˆì§€ë§‰ ì˜ˆë¥¼ ë³´ë©´ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ë¶€ë¶„ì´ ê·¸ëŒ€ë¡œ ì¶œë ¥ëœë‹¤.

# 1.10. ì†ì„±ê°’ ì„¤ì •

### íƒ€ì„ë¦¬í”„ íƒœê·¸ ì†ì„±(Attribute)

íƒ€ì„ë¦¬í”„ëŠ” ì£¼ë¡œ HTML íƒœê·¸ì— `th:*` ì†ì„±ì„ ì§€ì •í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ë™ì‘í•œë‹¤. `th:*` ë¡œ ì†ì„±ì„ ì ìš©í•˜ë©´ ê¸°ì¡´ ì†ì„±ì„ ëŒ€ì²´í•œë‹¤. ê¸°ì¡´ ì†ì„±ì´ ì—†ìœ¼ë©´ ìƒˆë¡œ ë§Œë“ ë‹¤.

### BasicController ì¶”ê°€

```java
@GetMapping("/attribute")
public String attribute() {
 return "basic/attribute";
}
```

`/resources/templates/basic/attribute.html`

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
 <meta charset="UTF-8">
 <title>Title</title>
</head>
<body>
<h1>ì†ì„± ì„¤ì •</h1>
<input type="text" name="mock" th:name="userA" />
<h1>ì†ì„± ì¶”ê°€</h1>
- th:attrappend = <input type="text" class="text" th:attrappend="class='
large'" /><br/>
- th:attrprepend = <input type="text" class="text" th:attrprepend="class='large
'" /><br/>
- th:classappend = <input type="text" class="text" th:classappend="large" /
><br/>
<h1>checked ì²˜ë¦¬</h1>
- checked o <input type="checkbox" name="active" th:checked="true" /><br/>
- checked x <input type="checkbox" name="active" th:checked="false" /><br/>
- checked=false <input type="checkbox" name="active" checked="false" /><br/>
</body>
</html>
```

### ì†ì„± ì„¤ì •

`th:*` ì†ì„±ì„ ì§€ì •í•˜ë©´ íƒ€ì„ë¦¬í”„ëŠ” ê¸°ì¡´ ì†ì„±ì„ `th:*` ë¡œ ì§€ì •í•œ ì†ì„±ìœ¼ë¡œ ëŒ€ì²´í•œë‹¤. ê¸°ì¡´ ì†ì„±ì´ ì—†ë‹¤ë©´
ìƒˆë¡œ ë§Œë“ ë‹¤.

`<input type="text" name="mock" th:name="userA" />`

â†’ íƒ€ì„ë¦¬í”„ ë Œë”ë§ í›„ `<input type="text" name="userA" />`

### ì†ì„± ì¶”ê°€

`th:attrappend` : ì†ì„± ê°’ì˜ ë’¤ì— ê°’ì„ ì¶”ê°€í•œë‹¤.
`th:attrprepend` : ì†ì„± ê°’ì˜ ì•ì— ê°’ì„ ì¶”ê°€í•œë‹¤.
`th:classappend` : class ì†ì„±ì— ìì—°ìŠ¤ëŸ½ê²Œ ì¶”ê°€í•œë‹¤.

### checked ì²˜ë¦¬

HTMLì—ì„œëŠ” `<input type="checkbox" name="active" checked="false" />` 
â†’ ì´ ê²½ìš°ì—ë„ checked ì†ì„±ì´ ìˆê¸° ë•Œë¬¸ì— checked ì²˜ë¦¬ê°€ ë˜ì–´ë²„ë¦°ë‹¤.

HTMLì—ì„œ `checked` ì†ì„±ì€ `checked` ì†ì„±ì˜ ê°’ê³¼ ìƒê´€ì—†ì´ `checked` ë¼ëŠ” ì†ì„±ë§Œ ìˆì–´ë„ ì²´í¬ê°€ ëœë‹¤. ì´ëŸ° ë¶€ë¶„ì´ `true` , `false` ê°’ì„ ì£¼ë¡œ ì‚¬ìš©í•˜ëŠ” ê°œë°œì ì…ì¥ì—ì„œëŠ” ë¶ˆí¸í•˜ë‹¤.

íƒ€ì„ë¦¬í”„ì˜ `th:checked` ëŠ” ê°’ì´ `false` ì¸ ê²½ìš° `checked` ì†ì„± ìì²´ë¥¼ ì œê±°í•œë‹¤.
`<input type="checkbox" name="active" th:checked="false" />`
â†’ íƒ€ì„ë¦¬í”„ ë Œë”ë§ í›„: `<input type="checkbox" name="active" />`

# 1.11. ë°˜ë³µ

íƒ€ì„ë¦¬í”„ì—ì„œ ë°˜ë³µì€ `th:each` ë¥¼ ì‚¬ìš©í•œë‹¤. ì¶”ê°€ë¡œ ë°˜ë³µì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì—¬ëŸ¬ ìƒíƒœ ê°’ì„ ì§€ì›í•œë‹¤

### BasicController ì¶”ê°€

```java
@GetMapping("/each")
public String each(Model model) {
 addUsers(model);
 return "basic/each";
}
private void addUsers(Model model) {
 List<User> list = new ArrayList<>();
 list.add(new User("userA", 10));
 list.add(new User("userB", 20));
 list.add(new User("userC", 30));
 model.addAttribute("users", list);
}
```

`/resources/templates/basic/each.html`

```html
<html xmlns:th="http://www.thymeleaf.org">
<head>
 <meta charset="UTF-8">
 <title>Title</title>
</head>
<body>
<h1>ê¸°ë³¸ í…Œì´ë¸”</h1>
<table border="1">
 <tr>
 <th>username</th>
 <th>age</th>
 </tr>
 <tr th:each="user : ${users}">
 <td th:text="${user.username}">username</td>
 <td th:text="${user.age}">0</td>
 </tr>
</table>
<h1>ë°˜ë³µ ìƒíƒœ ìœ ì§€</h1>
<table border="1">
 <tr>
 <th>count</th>
 <th>username</th>
 <th>age</th>
 <th>etc</th>
 </tr>
 <tr th:each="user, userStat : ${users}">
 <td th:text="${userStat.count}">username</td>
 <td th:text="${user.username}">username</td>
 <td th:text="${user.age}">0</td>
 <td>
 index = <span th:text="${userStat.index}"></span>
 count = <span th:text="${userStat.count}"></span>
 size = <span th:text="${userStat.size}"></span>
 even? = <span th:text="${userStat.even}"></span>
 odd? = <span th:text="${userStat.odd}"></span>
 first? = <span th:text="${userStat.first}"></span>
 last? = <span th:text="${userStat.last}"></span>
 current = <span th:text="${userStat.current}"></span>
 </td>
 </tr>
</table>
</body>
</html>
```

### ë°˜ë³µ ê¸°ëŠ¥

`<tr th:each="user : ${users}">`

- ë°˜ë³µì‹œ ì˜¤ë¥¸ìª½ ì»¬ë ‰ì…˜( `${users}` )ì˜ ê°’ì„ í•˜ë‚˜ì”© êº¼ë‚´ì„œ ì™¼ìª½ ë³€ìˆ˜( `user` )ì— ë‹´ì•„ì„œ íƒœê·¸ë¥¼ ë°˜ë³µ
ì‹¤í–‰í•©ë‹ˆë‹¤.
- `th:each` ëŠ” `List` ë¿ë§Œ ì•„ë‹ˆë¼ ë°°ì—´, `java.util.Iterable` , `java.util.Enumeration` ì„ êµ¬í˜„í•œ ëª¨ë“  ê°ì²´ë¥¼ ë°˜ë³µì— ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. `Map` ë„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ”ë° ì´ ê²½ìš° ë³€ìˆ˜ì— ë‹´ê¸°ëŠ” ê°’ì€ `Map.Entry` ì…ë‹ˆë‹¤.

### ë°˜ë³µ ìƒíƒœ ìœ ì§€

`<tr th:each="user, userStat : ${users}">`
ë°˜ë³µì˜ ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°ë¥¼ ì„¤ì •í•´ì„œ ë°˜ë³µì˜ ìƒíƒœë¥¼ í™•ì¸ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°ëŠ” ìƒëµ ê°€ëŠ¥í•œë°, ìƒëµí•˜ë©´ ì§€ì •í•œ ë³€ìˆ˜ëª…( `user` ) + `Stat` ê°€ ë©ë‹ˆë‹¤.
ì—¬ê¸°ì„œëŠ” `user` + `Stat` = `userStat` ì´ë¯€ë¡œ ìƒëµ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### ë°˜ë³µ ìƒíƒœ ìœ ì§€ ê¸°ëŠ¥

- `index` : 0ë¶€í„° ì‹œì‘í•˜ëŠ” ê°’
- `count` : 1ë¶€í„° ì‹œì‘í•˜ëŠ” ê°’
- `size` : ì „ì²´ ì‚¬ì´ì¦ˆ
- `even` , `odd` : í™€ìˆ˜, ì§ìˆ˜ ì—¬ë¶€( boolean )
- `first` , `last` :ì²˜ìŒ, ë§ˆì§€ë§‰ ì—¬ë¶€( boolean )
- `current` : í˜„ì¬ ê°ì²´

# 1.12. ì¡°ê±´ë¶€ í‰ê°€

íƒ€ì„ë¦¬í”„ì˜ ì¡°ê±´ì‹
`if` , `unless` ( `if` ì˜ ë°˜ëŒ€)

### BasicController ì¶”ê°€

```java
@GetMapping("/condition")
public String condition(Model model) {
 addUsers(model);
 return "basic/condition";
}
```

`/resources/templates/basic/condition.html`

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
 <meta charset="UTF-8">
 <title>Title</title>
</head>
<body>
<h1>if, unless</h1>
<table border="1">
 <tr>
 <th>count</th>
 <th>username</th>
 <th>age</th>
 </tr>
 <tr th:each="user, userStat : ${users}">
 <td th:text="${userStat.count}">1</td>
 <td th:text="${user.username}">username</td>
 <td>
 <span th:text="${user.age}">0</span>
 <span th:text="'ë¯¸ì„±ë…„ì'" th:if="${user.age lt 20}"></span>
 <span th:text="'ë¯¸ì„±ë…„ì'" th:unless="${user.age ge 20}"></span>
 </td>
 </tr>
</table>
<h1>switch</h1>
<table border="1">
 <tr>
 <th>count</th>
 <th>username</th>
 <th>age</th>
 </tr>
 <tr th:each="user, userStat : ${users}">
 <td th:text="${userStat.count}">1</td>
 <td th:text="${user.username}">username</td>
 <td th:switch="${user.age}">
 <span th:case="10">10ì‚´</span>
 <span th:case="20">20ì‚´</span>
 <span th:case="*">ê¸°íƒ€</span>
 </td>
 </tr>
</table>
</body>
</html>
```

### if, unless

íƒ€ì„ë¦¬í”„ëŠ” í•´ë‹¹ ì¡°ê±´ì´ ë§ì§€ ì•Šìœ¼ë©´ íƒœê·¸ ìì²´ë¥¼ ë Œë”ë§í•˜ì§€ ì•ŠëŠ”ë‹¤.
ë§Œì•½ ë‹¤ìŒ ì¡°ê±´ì´ `false` ì¸ ê²½ìš° `<span>...<span>` ë¶€ë¶„ ìì²´ê°€ ë Œë”ë§ ë˜ì§€ ì•Šê³  ì‚¬ë¼ì§„ë‹¤.
`<span th:text="'ë¯¸ì„±ë…„ì'" th:if="${user.age lt 20}"></span>`

### switch

`*`ì€ ë§Œì¡±í•˜ëŠ” ì¡°ê±´ì´ ì—†ì„ ë•Œ ì‚¬ìš©í•˜ëŠ” ë””í´íŠ¸ì´ë‹¤

# 1.13. ì£¼ì„

### BasicController ì¶”ê°€

```java
@GetMapping("/comments")
public String comments(Model model) {
 model.addAttribute("data", "Spring!");
 return "basic/comments";
}
```

`/resources/templates/basic/comments.html`

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
 <meta charset="UTF-8">
 <title>Title</title>
</head>
<body>
<h1>ì˜ˆì‹œ</h1>
<span th:text="${data}">html data</span>
<h1>1. í‘œì¤€ HTML ì£¼ì„</h1>
<!--
<span th:text="${data}">html data</span>
-->
<h1>2. íƒ€ì„ë¦¬í”„ íŒŒì„œ ì£¼ì„</h1>
<!--/* [[${data}]] */-->
<!--/*-->
<span th:text="${data}">html data</span>
<!--*/-->
<h1>3. íƒ€ì„ë¦¬í”„ í”„ë¡œí† íƒ€ì… ì£¼ì„</h1>
<!--/*/
<span th:text="${data}">html data</span>
/*/-->
</body>
</html>
```

### ê²°ê³¼

```html
<h1>ì˜ˆì‹œ</h1>
<span>Spring!</span>
<h1>1. í‘œì¤€ HTML ì£¼ì„</h1>
<!--
<span th:text="${data}">html data</span>
-->
<h1>2. íƒ€ì„ë¦¬í”„ íŒŒì„œ ì£¼ì„</h1>
<h1>3. íƒ€ì„ë¦¬í”„ í”„ë¡œí† íƒ€ì… ì£¼ì„</h1>
<span>Spring!</span>
```

1. **í‘œì¤€ HTML ì£¼ì„**
ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ í‘œì¤€ HTML ì£¼ì„ì€ íƒ€ì„ë¦¬í”„ê°€ ë Œë”ë§ í•˜ì§€ ì•Šê³ , ê·¸ëŒ€ë¡œ ë‚¨ê²¨ë‘”ë‹¤.
2. **íƒ€ì„ë¦¬í”„ íŒŒì„œ ì£¼ì„**
íƒ€ì„ë¦¬í”„ íŒŒì„œ ì£¼ì„ì€ íƒ€ì„ë¦¬í”„ì˜ ì§„ì§œ ì£¼ì„ì´ë‹¤. ë Œë”ë§ì—ì„œ ì£¼ì„ ë¶€ë¶„ì„ ì œê±°í•œë‹¤.
3. **íƒ€ì„ë¦¬í”„ í”„ë¡œí† íƒ€ì… ì£¼ì„**
íƒ€ì„ë¦¬í”„ í”„ë¡œí† íƒ€ì…ì€ ì•½ê°„ íŠ¹ì´í•œë°, HTML ì£¼ì„ì— ì•½ê°„ì˜ êµ¬ë¬¸ì„ ë”í–ˆë‹¤.
**HTML íŒŒì¼**ì„ ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ê·¸ëŒ€ë¡œ ì—´ì–´ë³´ë©´ HTML ì£¼ì„ì´ê¸° ë•Œë¬¸ì— ì´ ë¶€ë¶„ì´ ì›¹ ë¸Œë¼ìš°ì €ê°€ ë Œë”ë§í•˜ì§€ ì•ŠëŠ”ë‹¤.
**íƒ€ì„ë¦¬í”„ ë Œë”ë§**ì„ ê±°ì¹˜ë©´ ì´ ë¶€ë¶„ì´ ì •ìƒ ë Œë”ë§ ëœë‹¤.
ì‰½ê²Œ ì´ì•¼ê¸°í•´ì„œ HTML íŒŒì¼ì„ ê·¸ëŒ€ë¡œ ì—´ì–´ë³´ë©´ ì£¼ì„ì²˜ë¦¬ê°€ ë˜ì§€ë§Œ, íƒ€ì„ë¦¬í”„ë¥¼ ë Œë”ë§ í•œ ê²½ìš°ì—ë§Œ ë³´ì´ëŠ” ê¸°ëŠ¥ì´ë‹¤.

# 1.14. ë¸”ë¡

`th:block` ì€ HTML íƒœê·¸ê°€ ì•„ë‹Œ íƒ€ì„ë¦¬í”„ì˜ ìœ ì¼í•œ ìì²´ íƒœê·¸ë‹¤

### BasicController ì¶”ê°€

```java
@GetMapping("/block")
public String block(Model model) {
 addUsers(model);
 return "basic/block";
}
```

`/resources/templates/basic/block.html`

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
 <meta charset="UTF-8">
 <title>Title</title>
</head>
<body>
<th:block th:each="user : ${users}">
 <div>
 ì‚¬ìš©ì ì´ë¦„1 <span th:text="${user.username}"></span>
 ì‚¬ìš©ì ë‚˜ì´1 <span th:text="${user.age}"></span>
 </div>
 <div>
 ìš”ì•½ <span th:text="${user.username} + ' / ' + ${user.age}"></span>
 </div>
</th:block>
</body>
</html>
```

### ì‹¤í–‰ ê²°ê³¼

```html
<div>
ì‚¬ìš©ì ì´ë¦„1 <span>userA</span>
ì‚¬ìš©ì ë‚˜ì´1 <span>10</span>
</div>
<div>
ìš”ì•½ <span>userA / 10</span>
</div>
<div>
ì‚¬ìš©ì ì´ë¦„1 <span>userB</span>
ì‚¬ìš©ì ë‚˜ì´1 <span>20</span>
</div>
<div>
ìš”ì•½ <span>userB / 20</span>
</div>
<div>
ì‚¬ìš©ì ì´ë¦„1 <span>userC</span>
ì‚¬ìš©ì ë‚˜ì´1 <span>30</span>
</div>
<div>
ìš”ì•½ <span>userC / 30</span>
</div>
```

íƒ€ì„ë¦¬í”„ì˜ íŠ¹ì„±ìƒ HTML íƒœê·¸ì•ˆì— ì†ì„±ìœ¼ë¡œ ê¸°ëŠ¥ì„ ì •ì˜í•´ì„œ ì‚¬ìš©í•˜ëŠ”ë°, ìœ„ ì˜ˆì²˜ëŸ¼ ì´ë ‡ê²Œ ì‚¬ìš©í•˜ê¸° ì• ë§¤í•œ ê²½ìš°ì— ì‚¬ìš©í•˜ë©´ ëœë‹¤. `th:block` ì€ ë Œë”ë§ì‹œ ì œê±°ëœë‹¤.

# 1.15. ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸

íƒ€ì„ë¦¬í”„ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ íƒ€ì„ë¦¬í”„ë¥¼ í¸ë¦¬í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.
ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ ê¸°ëŠ¥ì€ ë‹¤ìŒê³¼ ê°™ì´ ì ìš©í•˜ë©´ ëœë‹¤.
`<script th:inline="javascript">`

### BasicController ì¶”ê°€

```java
@GetMapping("/javascript")
public String javascript(Model model) {
 model.addAttribute("user", new User("userA", 10));
 addUsers(model);
 return "basic/javascript";
}
```

`/resources/templates/basic/javascript.html`

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
 <meta charset="UTF-8">
 <title>Title</title>
</head>
<body>
<!-- ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ ì‚¬ìš© ì „ -->
<script>
 var username = [[${user.username}]];
 var age = [[${user.age}]];
 //ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‚´ì¶”ëŸ´ í…œí”Œë¦¿
 var username2 = /*[[${user.username}]]*/ "test username";
 //ê°ì²´
 var user = [[${user}]];
</script>
<!-- ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ ì‚¬ìš© í›„ -->
<script th:inline="javascript">
 var username = [[${user.username}]];
 var age = [[${user.age}]];
 //ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‚´ì¶”ëŸ´ í…œí”Œë¦¿
 var username2 = /*[[${user.username}]]*/ "test username";
 //ê°ì²´
 var user = [[${user}]];
</script>
</body>
</html>
```

### ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ ì‚¬ìš© ì „ - ê²°ê³¼

```html
<script>
var username = userA;
var age = 10;
//ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‚´ì¶”ëŸ´ í…œí”Œë¦¿
var username2 = /*userA*/ "test username";
//ê°ì²´
var user = BasicController.User(username=userA, age=10);
</script>
```

### ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ ì‚¬ìš© í›„ - ê²°ê³¼

```html
ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ ì‚¬ìš© í›„
<script>
var username = "userA";
var age = 10;
//ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‚´ì¶”ëŸ´ í…œí”Œë¦¿
var username2 = "userA";
//ê°ì²´
var user = {"username":"userA","age":10};
</script>
```

ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ì„ ì‚¬ìš©í•˜ì§€ ì•Šì€ ê²½ìš° ì–´ë–¤ ë¬¸ì œë“¤ì´ ìˆëŠ”ì§€ ì•Œì•„ë³´ê³ , ì¸ë¼ì¸ì„ ì‚¬ìš©í•˜ë©´ í•´ë‹¹ ë¬¸ì œë“¤ì´ ì–´ë–»ê²Œ í•´ê²°ë˜ëŠ”ì§€ í™•ì¸í•´ë³´ì

### í…ìŠ¤íŠ¸ ë Œë”ë§

- `var username = [[${user.username}]];`
    - ì¸ë¼ì¸ ì‚¬ìš© ì „ â†’ `var username = userA;`
    - ì¸ë¼ì¸ ì‚¬ìš© í›„ â†’ `var username = "userA";`
- ì¸ë¼ì¸ ì‚¬ìš© ì „ ë Œë”ë§ ê²°ê³¼ë¥¼ ë³´ë©´ `userA` ë¼ëŠ” ë³€ìˆ˜ ì´ë¦„ì´ ê·¸ëŒ€ë¡œ ë‚¨ì•„ìˆë‹¤. íƒ€ì„ë¦¬í”„ ì…ì¥ì—ì„œëŠ” ì •í™•í•˜ê²Œ ë Œë”ë§ í•œ ê²ƒì´ì§€ë§Œ ì•„ë§ˆ ê°œë°œìê°€ ê¸°ëŒ€í•œ ê²ƒì€ ë‹¤ìŒê³¼ ê°™ì€ "userA"ë¼ëŠ” ë¬¸ìì¼ ê²ƒì´ë‹¤.
ê²°ê³¼ì ìœ¼ë¡œ userAê°€ ë³€ìˆ˜ëª…ìœ¼ë¡œ ì‚¬ìš©ë˜ì–´ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì˜¤ë¥˜ê°€ ë°œìƒí•œë‹¤. ë‹¤ìŒìœ¼ë¡œ ë‚˜ì˜¤ëŠ” ìˆ«ì ageì˜ ê²½ìš°ì—ëŠ” `"` ê°€ í•„ìš” ì—†ê¸° ë•Œë¬¸ì— ì •ìƒ ë Œë”ë§ ëœë‹¤.
- ì¸ë¼ì¸ ì‚¬ìš© í›„ ë Œë”ë§ ê²°ê³¼ë¥¼ ë³´ë©´ ë¬¸ì íƒ€ì…ì¸ ê²½ìš° `"` ë¥¼ í¬í•¨í•´ì¤€ë‹¤. ì¶”ê°€ë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë¬¸ì œê°€ ë  ìˆ˜ ìˆëŠ” ë¬¸ìê°€ í¬í•¨ë˜ì–´ ìˆìœ¼ë©´ ì´ìŠ¤ì¼€ì´í”„ ì²˜ë¦¬ë„ í•´ì¤€ë‹¤. ì˜ˆ) `"` â†’ `\"`

### ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‚´ì¶”ëŸ´ í…œí”Œë¦¿

íƒ€ì„ë¦¬í”„ëŠ” HTML íŒŒì¼ì„ ì§ì ‘ ì—´ì–´ë„ ë™ì‘í•˜ëŠ” ë‚´ì¶”ëŸ´ í…œí”Œë¦¿ ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ì£¼ì„ì„ í™œìš©í•´ì„œ ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

- `var username2 = /*[[${user.username}]]*/ "test username";`
    - ì¸ë¼ì¸ ì‚¬ìš© ì „ â†’ `var username2 = /*userA*/ "test username";`
    - ì¸ë¼ì¸ ì‚¬ìš© í›„ â†’ `var username2 = "userA";`

- ì¸ë¼ì¸ ì‚¬ìš© ì „ ê²°ê³¼ë¥¼ ë³´ë©´ ì •ë§ ìˆœìˆ˜í•˜ê²Œ ê·¸ëŒ€ë¡œ í•´ì„ì„ í•´ë²„ë ¸ë‹¤. ë”°ë¼ì„œ ë‚´ì¶”ëŸ´ í…œí”Œë¦¿ ê¸°ëŠ¥ì´ ë™ì‘í•˜ì§€ ì•Šê³ , ì‹¬ì§€ì–´ ë Œë”ë§ ë‚´ìš©ì´ ì£¼ì„ì²˜ë¦¬ ë˜ì–´ ë²„ë¦°ë‹¤.
- ì¸ë¼ì¸ ì‚¬ìš© í›„ ê²°ê³¼ë¥¼ ë³´ë©´ ì£¼ì„ ë¶€ë¶„ì´ ì œê±°ë˜ê³ , ê¸°ëŒ€í•œ "userA"ê°€ ì •í™•í•˜ê²Œ ì ìš©ëœë‹¤.

### ê°ì²´

íƒ€ì„ë¦¬í”„ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ê°ì²´ë¥¼ JSONìœ¼ë¡œ ìë™ìœ¼ë¡œ ë³€í™˜í•´ì¤€ë‹¤.

- var user = [[${user}]];
    - ì¸ë¼ì¸ ì‚¬ìš© ì „ var user = BasicController.User(username=userA, age=10);
    - ì¸ë¼ì¸ ì‚¬ìš© í›„ var user = {"username":"userA","age":10};

- ì¸ë¼ì¸ ì‚¬ìš© ì „ì€ ê°ì²´ì˜ toString()ì´ í˜¸ì¶œëœ ê°’ì´ë‹¤.
- ì¸ë¼ì¸ ì‚¬ìš© í›„ëŠ” ê°ì²´ë¥¼ JSONìœ¼ë¡œ ë³€í™˜í•´ì¤€ë‹¤.

## ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ each

ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ì€ eachë¥¼ ì§€ì›í•˜ëŠ”ë°, ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•œë‹¤.

`/resources/templates/basic/javascript.html` ì— ì¶”ê°€

```html
<!-- ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ each -->
<script th:inline="javascript">
 [# th:each="user, stat : ${users}"]
 var user[[${stat.count}]] = [[${user}]];
 [/]
</script>
```

### ìë°”ìŠ¤í¬ë¦½íŠ¸ ì¸ë¼ì¸ each ê²°ê³¼

```html
<script>
var user1 = {"username":"userA","age":10};
var user2 = {"username":"userB","age":20};
var user3 = {"username":"userC","age":30};
</script>
```

# 1.16. í…œí”Œë¦¿ ì¡°ê°

ì›¹ í˜ì´ì§€ë¥¼ ê°œë°œí•  ë•ŒëŠ” ê³µí†µ ì˜ì—­ì´ ë§ì´ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ì„œ ìƒë‹¨ ì˜ì—­ì´ë‚˜ í•˜ë‹¨ ì˜ì—­, ì¢Œì¸¡ ì¹´í…Œê³ ë¦¬ ë“±ë“± ì—¬ëŸ¬ í˜ì´ì§€ì—ì„œ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ì˜ì—­ë“¤ì´ ìˆë‹¤. ì´ëŸ° ë¶€ë¶„ì„ ì½”ë“œë¥¼ ë³µì‚¬í•´ì„œ ì‚¬ìš©í•œë‹¤ë©´ ë³€ê²½ì‹œ ì—¬ëŸ¬ í˜ì´ì§€ë¥¼ ë‹¤ ìˆ˜ì •í•´ì•¼ í•˜ë¯€ë¡œ ìƒë‹¹íˆ ë¹„íš¨ìœ¨ ì ì´ë‹¤. íƒ€ì„ë¦¬í”„ëŠ” ì´ëŸ° ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ í…œí”Œë¦¿ ì¡°ê°ê³¼ ë ˆì´ì•„ì›ƒ ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤

**ì£¼ì˜! í…œí”Œë¦¿ ì¡°ê°ê³¼ ë ˆì´ì•„ì›ƒ ë¶€ë¶„ì€ ì§ì ‘ ì‹¤í–‰í•´ë³´ì•„ì•¼ ì´í•´ëœë‹¤.**

## í…œí”Œë¦¿ ì¡°ê°

```java
package hello.thymeleaf.basic;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.GetMapping;
import org.springframework.web.bind.annotation.RequestMapping;
@Controller
@RequestMapping("/template")
public class TemplateController {
 @GetMapping("/fragment")
 public String template() {
 return "template/fragment/fragmentMain";
 }
}
```

`/resources/templates/template/fragment/footer.html`

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<footer th:fragment="copy">
 í‘¸í„° ìë¦¬ ì…ë‹ˆë‹¤.
</footer>
<footer th:fragment="copyParam (param1, param2)">
 <p>íŒŒë¼ë¯¸í„° ìë¦¬ ì…ë‹ˆë‹¤.</p>
 <p th:text="${param1}"></p>
 <p th:text="${param2}"></p>
</footer>
</body>
</html>
```

`th:fragment` ê°€ ìˆëŠ” íƒœê·¸ëŠ” ë‹¤ë¥¸ê³³ì— í¬í•¨ë˜ëŠ” ì½”ë“œ ì¡°ê°ìœ¼ë¡œ ì´í•´í•˜ë©´ ëœë‹¤.

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
 <meta charset="UTF-8">
 <title>Title</title>
</head>
<body>
<h1>ë¶€ë¶„ í¬í•¨</h1>
<h2>ë¶€ë¶„ í¬í•¨ insert</h2>
<div th:insert="~{template/fragment/footer :: copy}"></div>
<h2>ë¶€ë¶„ í¬í•¨ replace</h2>
<div th:replace="~{template/fragment/footer :: copy}"></div>
<h2>ë¶€ë¶„ í¬í•¨ ë‹¨ìˆœ í‘œí˜„ì‹</h2>
<div th:replace="template/fragment/footer :: copy"></div>
<h1>íŒŒë¼ë¯¸í„° ì‚¬ìš©</h1>
<div th:replace="~{template/fragment/footer :: copyParam ('ë°ì´í„°1', 'ë°ì´í„°
2')}"></div>
</body>
</html>
```

- `template/fragment/footer :: copy` : `template/fragment/footer.html` í…œí”Œë¦¿ì— ìˆëŠ” `th:fragment="copy"` ë¼ëŠ” ë¶€ë¶„ì„ í…œí”Œë¦¿ ì¡°ê°ìœ¼ë¡œ ê°€ì ¸ì™€ì„œ ì‚¬ìš©í•œë‹¤ëŠ” ì˜ë¯¸ì´ë‹¤.

`footer.html` ì˜ `copy` ë¶€ë¶„

```html
<footer th:fragment="copy">
 í‘¸í„° ìë¦¬ ì…ë‹ˆë‹¤.
</footer>
```

### ë¶€ë¶„ í¬í•¨ insert

`<div th:insert="~{template/fragment/footer :: copy}"></div>`

```html
<h2>ë¶€ë¶„ í¬í•¨ insert</h2>
<div>
<footer>
í‘¸í„° ìë¦¬ ì…ë‹ˆë‹¤.
</footer>
</div>
```

`th:insert` ë¥¼ ì‚¬ìš©í•˜ë©´ í˜„ì¬ íƒœê·¸( `div` ) ë‚´ë¶€ì— ì¶”ê°€í•œë‹¤.

### ë¶€ë¶„ í¬í•¨ replace

`<div th:replace="~{template/fragment/footer :: copy}"></div>`

```html
<h2>ë¶€ë¶„ í¬í•¨ replace</h2>
<footer>
í‘¸í„° ìë¦¬ ì…ë‹ˆë‹¤.
</footer>
```

`th:replace` ë¥¼ ì‚¬ìš©í•˜ë©´ í˜„ì¬ íƒœê·¸( `div` )ë¥¼ ëŒ€ì²´í•œë‹¤

### ë¶€ë¶„ í¬í•¨ ë‹¨ìˆœ í‘œí˜„

`<div th:replace="template/fragment/footer :: copy"></div>`

```html
<h2>ë¶€ë¶„ í¬í•¨ ë‹¨ìˆœ í‘œí˜„ì‹</h2>
<footer>
í‘¸í„° ìë¦¬ ì…ë‹ˆë‹¤.
</footer>
```

`~{...}` ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì›ì¹™ì´ì§€ë§Œ í…œí”Œë¦¿ ì¡°ê°ì„ ì‚¬ìš©í•˜ëŠ” ì½”ë“œê°€ ë‹¨ìˆœí•˜ë©´ ì´ ë¶€ë¶„ì„ ìƒëµí•  ìˆ˜ ìˆë‹¤.

### íŒŒë¼ë¯¸í„° ì‚¬ìš©

ë‹¤ìŒê³¼ ê°™ì´ íŒŒë¼ë¯¸í„°ë¥¼ ì „ë‹¬í•´ì„œ ë™ì ìœ¼ë¡œ ì¡°ê°ì„ ë Œë”ë§ í•  ìˆ˜ë„ ìˆë‹¤

`<div th:replace="~{template/fragment/footer :: copyParam ('ë°ì´í„°1', 'ë°ì´í„°2')}"></div>`

```html
<h1>íŒŒë¼ë¯¸í„° ì‚¬ìš©</h1>
<footer>
<p>íŒŒë¼ë¯¸í„° ìë¦¬ ì…ë‹ˆë‹¤.</p>
<p>ë°ì´í„°1</p>
<p>ë°ì´í„°2</p>
</footer>
```

`footer.html` ì˜ `copyParam` ë¶€ë¶„

```html
<footer th:fragment="copyParam (param1, param2)">
 <p>íŒŒë¼ë¯¸í„° ìë¦¬ ì…ë‹ˆë‹¤.</p>
 <p th:text="${param1}"></p>
 <p th:text="${param2}"></p>
</footer>
```

# 1.17. í…œí”Œë¦¿ ë ˆì´ì•„ì›ƒ1

## í…œí”Œë¦¿ ë ˆì´ì•„ì›ƒ

ì´ì „ì—ëŠ” ì¼ë¶€ ì½”ë“œ ì¡°ê°ì„ ê°€ì§€ê³ ì™€ì„œ ì‚¬ìš©í–ˆë‹¤ë©´, ì´ë²ˆì—ëŠ” ê°œë…ì„ ë” í™•ì¥í•´ì„œ ì½”ë“œ ì¡°ê°ì„ ë ˆì´ì•„ì›ƒì— ë„˜ê²¨ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ ì•Œì•„ë³´ì.

ì˜ˆë¥¼ ë“¤ì–´ì„œ `<head>` ì— ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” `css` , `javascript` ê°™ì€ ì •ë³´ë“¤ì´ ìˆëŠ”ë°, ì´ëŸ¬í•œ ê³µí†µ ì •ë³´ë“¤ì„ í•œ ê³³ì— ëª¨ì•„ë‘ê³ , ê³µí†µìœ¼ë¡œ ì‚¬ìš©í•˜ì§€ë§Œ, ê° í˜ì´ì§€ë§ˆë‹¤ í•„ìš”í•œ ì •ë³´ë¥¼ ë” ì¶”ê°€í•´ì„œ ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

```java
@GetMapping("/layout")
public String layout() {
 return "template/layout/layoutMain";
}
```

`/resources/templates/template/layout/base.html`

```html
<html xmlns:th="http://www.thymeleaf.org">
<head th:fragment="common_header(title,links)">
 <title th:replace="${title}">ë ˆì´ì•„ì›ƒ íƒ€ì´í‹€</title>
 <!-- ê³µí†µ -->
 <link rel="stylesheet" type="text/css" media="all" th:href="@{/css/
awesomeapp.css}">
 <link rel="shortcut icon" th:href="@{/images/favicon.ico}">
 <script type="text/javascript" th:src="@{/sh/scripts/codebase.js}"></
script>
 <!-- ì¶”ê°€ -->
 <th:block th:replace="${links}" />
</head>
```

`/resources/templates/template/layout/layoutMain.html`

```html
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="template/layout/base :: common_header(~{::title},~{::link})">
 <title>ë©”ì¸ íƒ€ì´í‹€</title>
 <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
 <link rel="stylesheet" th:href="@{/themes/smoothness/jquery-ui.css}">
</head>
<body>
ë©”ì¸ ì»¨í…ì¸ 
</body>
</html>
```

### ê²°ê³¼

```html
<!DOCTYPE html>
<html>
<head>
<title>ë©”ì¸ íƒ€ì´í‹€</title>
<!-- ê³µí†µ -->
<link rel="stylesheet" type="text/css" media="all" href="/css/awesomeapp.css">
<link rel="shortcut icon" href="/images/favicon.ico">
<script type="text/javascript" src="/sh/scripts/codebase.js"></script>
<!-- ì¶”ê°€ -->
<link rel="stylesheet" href="/css/bootstrap.min.css">
<link rel="stylesheet" href="/themes/smoothness/jquery-ui.css">
</head>
<body>
ë©”ì¸ ì»¨í…ì¸ 
</body>
</html>
```

- `common_header(~{::title},~{::link})` ì´ ë¶€ë¶„ì´ í•µì‹¬ì´ë‹¤.
    - `::title` ì€ í˜„ì¬ í˜ì´ì§€ì˜ title íƒœê·¸ë“¤ì„ ì „ë‹¬í•œë‹¤.
    - `::link` ëŠ” í˜„ì¬ í˜ì´ì§€ì˜ link íƒœê·¸ë“¤ì„ ì „ë‹¬í•œë‹¤.

**ê²°ê³¼ë¥¼ ë³´ì.**

- ë©”ì¸ íƒ€ì´í‹€ì´ ì „ë‹¬í•œ ë¶€ë¶„ìœ¼ë¡œ êµì²´ë˜ì—ˆë‹¤.
- ê³µí†µ ë¶€ë¶„ì€ ê·¸ëŒ€ë¡œ ìœ ì§€ë˜ê³ , ì¶”ê°€ ë¶€ë¶„ì— ì „ë‹¬í•œ `<link>` ë“¤ì´ í¬í•¨ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

1. layoutMain.htmlì—ì„œ `th:replace="template/layout/base :: common_header(~{::title},~{::link})"` í˜¸ì¶œ
    - `::title` title íƒœê·¸ë“¤ì„ ì „ë‹¬
    - `::link` link íƒœê·¸ë“¤ì„ ì „ë‹¬
2. base.htmlì˜ common_header(`<head th:fragment="common_header(title,links)">`)ì˜ ì •ë³´ë¥¼ ê°€ì ¸ì™€ì„œ replaceí•´ì¤€ë‹¤.
    - `${title}` ë°›ì•„ì˜¨ titleì •ë³´ë¥¼ ë„£ì–´ì¤Œ
    - `${links}` ë°›ì•„ì˜¨ linkì •ë³´ë¥¼ ë„£ì–´ì¤Œ

ì´ ë°©ì‹ì€ ì‚¬ì‹¤ ì•ì„œ ë°°ìš´ ì½”ë“œ ì¡°ê°ì„ ì¡°ê¸ˆ ë” ì ê·¹ì ìœ¼ë¡œ ì‚¬ìš©í•˜ëŠ” ë°©ì‹ì´ë‹¤. ì‰½ê²Œ ì´ì•¼ê¸°í•´ì„œ ë ˆì´ì•„ì›ƒ ê°œë…ì„ ë‘ê³ , ê·¸ ë ˆì´ì•„ì›ƒì— í•„ìš”í•œ ì½”ë“œ ì¡°ê°ì„ ì „ë‹¬í•´ì„œ ì™„ì„±í•˜ëŠ” ê²ƒìœ¼ë¡œ ì´í•´í•˜ë©´ ëœë‹¤.

# 1.18. í…œí”Œë¦¿ ë ˆì´ì•„ì›ƒ2

## í…œí”Œë¦¿ ë ˆì´ì•„ì›ƒ í™•ì¥

ì•ì„œ ì´ì•¼ê¸°í•œ ê°œë…ì„ `<head>` ì •ë„ì—ë§Œ ì ìš©í•˜ëŠ”ê²Œ ì•„ë‹ˆë¼ `<html>` ì „ì²´ì— ì ìš©í•  ìˆ˜ë„ ìˆë‹¤

```java
@GetMapping("/layoutExtend")
public String layoutExtends() {
 return "template/layoutExtend/layoutExtendMain";
}
```

`/resources/templates/template/layoutExtend/layoutFile.html`

```html
<!DOCTYPE html>
<html th:fragment="layout (title, content)" xmlns:th="http://
www.thymeleaf.org">
<head>
 <title th:replace="${title}">ë ˆì´ì•„ì›ƒ íƒ€ì´í‹€</title>
</head>
<body>
<h1>ë ˆì´ì•„ì›ƒ H1</h1>
<div th:replace="${content}">
 <p>ë ˆì´ì•„ì›ƒ ì»¨í…ì¸ </p>
</div>
<footer>
 ë ˆì´ì•„ì›ƒ í‘¸í„°
</footer>
</body>
</html>
```

`/resources/templates/template/layoutExtend/layoutExtendMain.html`

```html
<!DOCTYPE html>
<html th:replace="~{template/layoutExtend/layoutFile :: layout(~{::title},
~{::section})}"
 xmlns:th="http://www.thymeleaf.org">
<head>
 <title>ë©”ì¸ í˜ì´ì§€ íƒ€ì´í‹€</title>
</head>
<body>
<section>
 <p>ë©”ì¸ í˜ì´ì§€ ì»¨í…ì¸ </p>
 <div>ë©”ì¸ í˜ì´ì§€ í¬í•¨ ë‚´ìš©</div>
</section>
</body>
</html>
```

### ìƒì„± ê²°ê³¼

```html
<!DOCTYPE html>
<html>
<head>
<title>ë©”ì¸ í˜ì´ì§€ íƒ€ì´í‹€</title>
</head>
<body>
<h1>ë ˆì´ì•„ì›ƒ H1</h1>
<section>
<p>ë©”ì¸ í˜ì´ì§€ ì»¨í…ì¸ </p>
<div>ë©”ì¸ í˜ì´ì§€ í¬í•¨ ë‚´ìš©</div>
</section>
<footer>
ë ˆì´ì•„ì›ƒ í‘¸í„°
</footer>
</body>
</html>
```

`layoutFile.html` ì„ ë³´ë©´ ê¸°ë³¸ ë ˆì´ì•„ì›ƒì„ ê°€ì§€ê³  ìˆëŠ”ë°, `<html>` ì— `th:fragment` ì†ì„±ì´ ì •ì˜ë˜ì–´
ìˆë‹¤. ì´ ë ˆì´ì•„ì›ƒ íŒŒì¼ì„ ê¸°ë³¸ìœ¼ë¡œ í•˜ê³  ì—¬ê¸°ì— í•„ìš”í•œ ë‚´ìš©ì„ ì „ë‹¬í•´ì„œ ë¶€ë¶„ë¶€ë¶„ ë³€ê²½í•˜ëŠ” ê²ƒìœ¼ë¡œ
ì´í•´í•˜ë©´ ëœë‹¤.

`layoutExtendMain.html` ëŠ” í˜„ì¬ í˜ì´ì§€ì¸ë°, `<html>` ìì²´ë¥¼ `th:replace` ë¥¼ ì‚¬ìš©í•´ì„œ ë³€ê²½í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ê²°êµ­ `layoutFile.html` ì— í•„ìš”í•œ ë‚´ìš©ì„ ì „ë‹¬í•˜ë©´ì„œ `<html>` ìì²´ë¥¼
`layoutFile.html` ë¡œ ë³€ê²½í•œë‹¤.
